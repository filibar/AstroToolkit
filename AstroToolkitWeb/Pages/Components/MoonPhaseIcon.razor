@namespace AstroToolkitWeb.Pages.Components
@using System.Text.RegularExpressions
@using AstroToolkitWeb.Models

@if (Phase != null)
{
    <img src="@GetIconPath()" alt="@Phase.Name" class="moon-phase-icon" style="@Style" />
}

@code {
    [Parameter]
    public MoonPhase? Phase { get; set; }

    [Parameter]
    public string Style { get; set; } = "width: 32px; height: 32px;";

    private string GetIconPath()
    {
        if (Phase == null)
            return "_content/AstroToolkitWeb/images/moon/placeholder.svg";

        string filename = Phase.Name.ToLower().Replace(" ", "-");
        return $"_content/AstroToolkitWeb/images/moon/{filename}.svg";
    }
}

<style>
    .moon-phase-icon {
        display: inline-block;
    }

    .moon-phase-icon img {
        object-fit: contain;
    }
</style>